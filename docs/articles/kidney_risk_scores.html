<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kidney Donor and Recipient Risk Index • transplantr</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Kidney Donor and Recipient Risk Index">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">transplantr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.900</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/egfr.html">Estimated GFR</a>
    </li>
    <li>
      <a href="../articles/kidney_risk_scores.html">Kidney Donor and Recipient Risk Index</a>
    </li>
    <li>
      <a href="../articles/liver_recipient_scoring.html">Liver recipient scoring</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Kidney Donor and Recipient Risk Index</h1>
            
      
      
      <div class="hidden name"><code>kidney_risk_scores.Rmd</code></div>

    </div>

    
    
<div id="calculating-kidney-risk-indices" class="section level1">
<h1 class="hasAnchor">
<a href="#calculating-kidney-risk-indices" class="anchor"></a>Calculating kidney risk indices</h1>
<p>The transplantr package includes vectorised functions to calculate a number of different deceased donor kidney risk indices which are based on Cox models of transplant survival and can be used to audit or risk adjust transplant outcome data.</p>
<p>The models included in version 0.1.0 are:</p>
<ul>
<li>UK Kidney Donor Risk Index (2019 version): <code><a href="../reference/ukkdri.html">ukkdri()</a></code>
</li>
<li>UK Kidney Donor Risk Index (2012 version): <code><a href="../reference/watson_ukkdri.html">watson_ukkdri()</a></code>
</li>
<li>US Kidney Donor Risk Index: <code><a href="../reference/uskdri.html">uskdri()</a></code>
</li>
<li>UK Kidney Recipient Risk Index <code><a href="../reference/ukkrri.html">ukkrri()</a></code>
</li>
</ul>
<p>The US risk index uses donor creatinine as a parameter, and the <code><a href="../reference/uskdri.html">uskdri()</a></code> function in this package uses creatinine measured in mcmol/l as the default for all functions, but creatinine can be entered in mg/dl either by setting the optional <code>units</code> parameter to “SI” or by calling the wrapper function <code><a href="../reference/uskdri_US.html">uskdri_US()</a></code> instead. All of the functions in transplantr using creatinine or bilirubin use units in the same way - for mg/dl either use <code>units == "US"</code> or call the <code>..._US()</code> wrapper function.</p>
<p>To start, load the transplantr library and I would also recommend using dplyr to incorporate the results of these functions into your datasets:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(transplantr)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="co">#library(dplyr)</span></a></code></pre></div>
<div id="uk-kidney-donor-and-recipient-risk-indices-2019" class="section level2">
<h2 class="hasAnchor">
<a href="#uk-kidney-donor-and-recipient-risk-indices-2019" class="anchor"></a>UK Kidney Donor and Recipient Risk Indices (2019)</h2>
<p>The current UK Kidney Donor and Recipient Risk Indices are based on transplant and recipient survival data from the UK National Transplant Database and have been incorporated into the new deceased donor kidney matching scheme launched in September 2019, which aims to match expected transplant and recipient survival (although a number of other factors are also used in the algorithm).</p>
<div id="uk-kidney-donor-risk-index" class="section level3">
<h3 class="hasAnchor">
<a href="#uk-kidney-donor-risk-index" class="anchor"></a>UK Kidney Donor Risk Index</h3>
<p>The <code><a href="../reference/ukkdri.html">ukkdri()</a></code> function calculates the donor risk and uses the following parameters:</p>
<table class="table">
<colgroup>
<col width="33%">
<col width="43%">
<col width="23%">
</colgroup>
<thead><tr class="header">
<th>Parameter</th>
<th>Description</th>
<th>Values</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>age</td>
<td>donor age in years</td>
<td>numeric vector</td>
</tr>
<tr class="even">
<td>height</td>
<td>donor height in cm</td>
<td>numeric vector</td>
</tr>
<tr class="odd">
<td>htn</td>
<td>donor history of hypertension</td>
<td>numeric vector of values of 1 (yes) or 0 (no)</td>
</tr>
<tr class="even">
<td>female</td>
<td>whether donor is female</td>
<td>numeric vector of values of 1 (yes) or 0 (no)</td>
</tr>
<tr class="odd">
<td>cmv</td>
<td>whether donor is CMV seropositive</td>
<td>numeric vector of values of 1 (yes) or 0 (no)</td>
</tr>
<tr class="even">
<td>gfr</td>
<td>donor eGFR in ml/min</td>
<td>numeric vector</td>
</tr>
<tr class="odd">
<td>hdays</td>
<td>length of donor hospital stay</td>
<td>numeric vector</td>
</tr>
</tbody>
</table>
<p>Using vectors of 1 and 0 is more efficient than TRUE/FALSE or “Male”/“Female”, but if your dataset uses these values instead, it is easy enough to convert them with the dplyr::mutate() verb:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">my_data2 =<span class="st"> </span>my_data <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Sex =</span> <span class="kw">if_else</span>(Sex <span class="op">==</span><span class="st"> "F"</span>, <span class="dv">1</span>, <span class="dv">0</span>),</a>
<a class="sourceLine" id="cb2-3" data-line-number="3">         <span class="dt">Hypertension =</span> <span class="kw">if_else</span>(Hypertension <span class="op">==</span><span class="st"> </span><span class="ot">TRUE</span>, <span class="dv">1</span>, <span class="dv">0</span>),</a>
<a class="sourceLine" id="cb2-4" data-line-number="4">         <span class="dt">CMV =</span> <span class="kw">if_else</span>(CMV <span class="op">==</span><span class="st"> "Pos"</span>, <span class="dv">1</span>, <span class="dv">0</span>))</a></code></pre></div>
<p>Generating the results is also easy to do with dplyr:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">my_data3 =<span class="st"> </span>my_data2 <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">UKKDRI =</span> <span class="kw"><a href="../reference/ukkdri.html">ukkdri</a></span>(<span class="dt">age =</span> Donor.Age, <span class="dt">height =</span> Donor.Height, <span class="dt">htn =</span> Donor.Hypertension,</a>
<a class="sourceLine" id="cb3-3" data-line-number="3">                         <span class="dt">female =</span> Donor.Sex, <span class="dt">cmv =</span> Donor.CMV, <span class="dt">gfr =</span> Donor.eGFR, </a>
<a class="sourceLine" id="cb3-4" data-line-number="4">                         <span class="dt">hdays =</span> Donor.Hospital_Stay))</a></code></pre></div>
<p>Although it is a vectorised function, <code><a href="../reference/ukkdri.html">ukkdri()</a></code> will also work with single values:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw"><a href="../reference/ukkdri.html">ukkdri</a></span>(<span class="dt">age =</span> <span class="dv">50</span>, <span class="dt">height =</span> <span class="dv">170</span>, <span class="dt">htn =</span> <span class="dv">1</span>, <span class="dt">female =</span> <span class="dv">1</span>, <span class="dt">cmv =</span> <span class="dv">0</span>, <span class="dt">gfr =</span> <span class="dv">90</span>, <span class="dt">hdays =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="co">#&gt; [1] 0.857272</span></a></code></pre></div>
</div>
<div id="uk-recipient-risk-index" class="section level3">
<h3 class="hasAnchor">
<a href="#uk-recipient-risk-index" class="anchor"></a>UK Recipient Risk Index</h3>
<p>The <code><a href="../reference/ukkrri.html">ukkrri()</a></code> function calculates the UK Kidney Recipient Risk Index using the following parameters:</p>
<table class="table">
<colgroup>
<col width="33%">
<col width="33%">
<col width="33%">
</colgroup>
<thead><tr class="header">
<th>Parameter</th>
<th>Description</th>
<th>Values</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>age</td>
<td>recipient age in years</td>
<td>numeric vector</td>
</tr>
<tr class="even">
<td>dx</td>
<td>whether recipient on dialysis at time of listing</td>
<td>numeric vector of 1 (yes) and 0 (no)</td>
</tr>
<tr class="odd">
<td>wait</td>
<td>waiting time since start of dialysis in days</td>
<td>numeric vector</td>
</tr>
<tr class="even">
<td>dm</td>
<td>whether recipient has diabetes</td>
<td>numeric vector of 1 (yes) and 0 (no)</td>
</tr>
</tbody>
</table>
<p>The easiest way to generate the UKKRRI data column is again to use dplyr::mutate() verb:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">mydata4 =<span class="st"> </span>mydata3 <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">UKKRRI =</span> <span class="kw"><a href="../reference/ukkrri.html">ukkrri</a></span>(<span class="dt">age =</span> Recipient.Age, <span class="dt">dx =</span> Recipient.OnDialysis, </a>
<a class="sourceLine" id="cb5-3" data-line-number="3">                         <span class="dt">wait =</span> Recipient.Waittime, <span class="dt">dm =</span> Recipient.Diabetes))</a></code></pre></div>
</div>
</div>
<div id="us-kidney-donor-risk-index" class="section level2">
<h2 class="hasAnchor">
<a href="#us-kidney-donor-risk-index" class="anchor"></a>US Kidney Donor Risk Index</h2>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li>
<a href="#calculating-kidney-risk-indices">Calculating kidney risk indices</a><ul class="nav nav-pills nav-stacked">
<li><a href="#uk-kidney-donor-and-recipient-risk-indices-2019">UK Kidney Donor and Recipient Risk Indices (2019)</a></li>
      <li><a href="#us-kidney-donor-risk-index">US Kidney Donor Risk Index</a></li>
      </ul>
</li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by John Asher.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
